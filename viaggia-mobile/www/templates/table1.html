<ion-view title="{{title}}">
    <ion-nav-buttons side="right">
        <button class="button button-icon button-clear" ng-class="bookmarkStyle" ng-click="bookmark()"></button>
    </ion-nav-buttons>
    <ion-content id="content" has-header="true" has-bouncing="false">
        <div class="row" style="background-color: {{color}}; color: {{textColor(color)}} !important;">
            <div class="col col-25 tt-day btn" ng-click="prevDate()"><a><i class="icon ion-arrow-left-b"></i></a>
            </div>
            <div class="col col-50 tt-day">{{runningDate | dowDate}} {{runningDate | date : 'dd/MM/yyyy'}}</div>
            <div class="col col-25 tt-day btn" ng-click="nextDate()"><a><i class="icon ion-arrow-right-b"></i></a>
            </div>
        </div>
<!--
        <div ng-if="dataStr" id="table-corner" style="width:{{stopsColWidth}}px; height:{{tableHeaderHeight}}px">
            <div>{{tableCornerStr[0]}}</div>
            <div ng-if="header_row_number == 2">{{tableCornerStr[1]}}</div>
        </div>
        <div class="row table-container" ng-if="dataStr">

            <ion-scroll direction="xy" has-bouncing="false" id="tablescroll" style="height:{{scrollHeight}}px; width: {{scrollWidth}}px" class="overlapDiv" on-scroll="doScroll()" delegate-handle="list">
                <div id="table-col" ng-bind-html="colStr"
                     style="width:{{stopsColWidth}}px;
                            line-height: {{stopsColLineHeight}}px;
                            top: {{tableHeaderHeight}}px;
                            background-size: 100% {{rowHeight*2}}px;
                            background-image:
                            -webkit-linear-gradient(90deg,#fff, #fff {{rowHeight}}px, #eee {{rowHeight}}px, #eee {{rowHeight*2}}px);
                            background-image:
                            linear-gradient(180deg,#fff, #fff {{rowHeight}}px, #eee {{rowHeight}}px, #eee {{rowHeight*2}}px);"
                     ng-click="showStop($event)"></div>
                <div id="table-header" style="left:{{stopsColWidth}}px;">
                    <div ng-bind-html="headStr[0]"></div>
                    <div ng-if="header_row_number == 2" ng-bind-html="headStr[1]"></div>
                </div>

                <div id="table-table" ng-bind-html="dataStr"
                     style="left:{{stopsColWidth}}px;
                            top: {{tableHeaderHeight}}px;
                            background-size: 100% {{rowHeight*2}}px;
                            background-image:
                            -webkit-linear-gradient(90deg,transparent, transparent {{rowHeight}}px, #eee {{rowHeight}}px, #eee {{rowHeight*2}}px);
                            background-image:
                            linear-gradient(180deg,transparent, transparent {{rowHeight}}px, #eee {{rowHeight}}px, #eee {{rowHeight*2}}px);"></div>
            </ion-scroll>
        </div>
        <div id="measurer" style="white-space: nowrap;font-family: RobotoMono;font-size: 12px;color: transparent;background-color: transparent;position:absolute;">123456789</div>
-->
      <div class="timetable">
        <div class="row tt-header">
          <div class="col stop-cell text-center" style="min-width:{{stopsColWidth}}px;max-width:{{stopsColWidth}}px;">{{tableCornerStr[0]}}</div>
          <div class="col time-cell delay" ng-repeat="t in tripIds" style="min-width:{{colwidth}}px;max-width:{{colwidth}}px">{{getDelayValue(tt.delays[$index+range.startCol])}}</div>
        </div>
        <div class="row tt-header" ng-if="header_row_number == 2">
          <div class="col stop-cell text-center" style="font-size:12px;font-family: RobotoMono;min-width:{{stopsColWidth}}px;max-width:{{stopsColWidth}}px">{{tableCornerStr[1]}}</div>
          <div class="col time-cell" ng-repeat="t in tripIds" style="min-width:{{colwidth}}px;max-width:{{colwidth}}px">{{getTripText(t)}}</div>
        </div>

        <div class="row table-container">
            <ion-scroll direction="y" has-bouncing="false" style="height:{{scrollHeight}}px; width: {{scrollWidth}}px" class="overlapDiv" on-swipe-right="onSwipeRight()" on-swipe-left="onSwipeLeft()" delegate-handle="list">
              <div class="row" style="line-height: {{stopsColLineHeight}}px;
                            background-size: 100% {{rowHeight*2}}px;
                            background-image:
                            -webkit-linear-gradient(90deg,#fff, #fff {{rowHeight}}px, #eee {{rowHeight}}px, #eee {{rowHeight*2}}px);
                            background-image:
                            linear-gradient(180deg,#fff, #fff {{rowHeight}}px, #eee {{rowHeight}}px, #eee {{rowHeight*2}}px);">
                <div class="col stop-cell" ng-bind-html="colStr" ng-click="showStop($event)" style="min-width:{{stopsColWidth}}px;max-width:{{stopsColWidth}}px"></div>
                <div class="col time-cell" ng-repeat="t in dataStr" style="min-width:{{colwidth}}px;max-width:{{colwidth}}px" ng-bind-html="t"></div>
              </div>
<!--
              <div class="row" ng-repeat="s in tt.stops track by $index" ng-class="{even: $index % 2 == 0}">
                <div class="col stop-cell" style="min-width:{{stopsColWidth}}px;max-width:{{stopsColWidth}}px" ng-click="showStopTxt(s)">{{s}}</div>
                <div class="col time-cell" ng-repeat="t in tripIds" style="min-width:{{colwidth}}px;max-width:{{colwidth}}px">{{tt.times[$index + range.startCol][$parent.$index]}}</div>
              </div>
-->
            </ion-scroll>
        </div>
        <div class="item range range-positive">
          <input type="range" name="hour" min="0" max="{{tt.tripIds.length}}" ng-model="range.startCol" ng-change="rangeChange()">
        </div>
      </div>


        <div ng-if="tt && tt.tripIds.length == 0" class="text-center">
            <h4>{{'no_tt' | translate}}</h4>
        </div>
    </ion-content>
</ion-view>
