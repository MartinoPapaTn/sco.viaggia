<ion-view id="monitoring" title={{title}}>
    <ion-nav-buttons side="right">
        <button id="newMonitorButton" class="button button-viaggia-header button-fab" ng-click="addMonitor()" ng-show="!addingMonitor">
            <i class="icon ion-plus-round"></i>
        </button>
    </ion-nav-buttons>
    <ion-content id="content" has-header="true">

        <div id="newMonitor" class="card" ng-show="addingMonitor">
            <div class="monitor-title">{{'new_monitor' | translate}}</div>
            <div>
                <label class="item-input plan-item-time">
                    <span class="input-label"><b>{{'monitor_time_from' | translate}}</b></span>
                    <ionic-timepicker input-obj="timePickerObject24HourFrom">
                        <button ng-hide="true"></button>
                        <span class="input-label">
        <standard-time-no-meridian etime='timePickerObject24HourFrom.inputEpochTime'></standard-time-no-meridian>
        </span>
                    </ionic-timepicker>
                </label>
            </div>
            <div>
                <label class="item-input plan-item-time">
                    <span class="input-label"><b>{{'monitor_time_to' | translate}}</b></span>
                    <ionic-timepicker input-obj="timePickerObject24HourTo">
                        <button ng-hide="true"></button>
                        <span class="input-label">
        <standard-time-no-meridian etime='timePickerObject24HourTo.inputEpochTime'></standard-time-no-meridian>
        </span>
                    </ionic-timepicker>
                </label>
            </div>
            <div class="list recurrence-days">
                <div class="monitor-title">{{'new_monitor_days' | translate}}</div>

                <ion-checkbox ng-repeat="dow in recurrentDays" ng-model="dow.checked">{{dow.shortname | translate}}</ion-checkbox>
                <ion-checkbox ng-model="allDays.checked" ng-change="selectAll()">{{'save_trip_alldays' | translate}}</ion-checkbox>
            </div>
            <!--
            <button class="button button-viaggia-header button-block" ng-click="saveMonitor()">
                {{'monitoing_add_new'|translate}}
            </button>
-->
            <div class="popup-buttons" ng-if="!editMode">
                <button class="button button-cancel" ng-click="closeMonitor()">{{'monitoing_close_new' | translate}} </button>
                <button class="button button-default" ng-click="saveMonitor()">{{'monitoing_add_new' | translate}} </button>
            </div>
        </div>
        <div>
            <div class="monitor-title">{{'active_monitors' | translate}}</div>
            <div class="card monitor-card" ng-repeat="monitor in monitors">
                <i class="icon ion-android-cancel" ng-click="deleteMonitor()"></i>
                <div class="row time-row"> <span class="input-label col">{{'monitor_time_from' | translate}}<b>{{monitor.from}}</b> </span> <span class="input-label col">{{'monitor_time_to' | translate}}<b>{{monitor.to}}</b></span>
                </div>
                <div class="row">
                    <span class="monitoring_days" ng-repeat="day in monitor.monitorDays track by $index"><b> {{day.name|translate|limitTo:3}}<span ng-if="$index < monitor.monitorDays.length-1"> - </span></b>
                    </span>
                </div>
            </div>
        </div>

    </ion-content>
</ion-view>
